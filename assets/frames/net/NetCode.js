//错误处理
let
	errorcodes = {
		1001001: '微信登录正在维护中，请使用其他登录方式',
		10000001: '返回数据格式错误',
		10010001: '路由错误',
		10020002: '用户账户不存在',
		10020003: '账号或密码错误，请重新输入！',
		10020004: 'token错误',
		10020005: '该账号已经存在，请直接登录！',
		10020006: '注册失败',
		10020007: '登录失败',
		10020049: '玩家修改的性别参数错误',
		10020050: '缺少参数',
		10020058: '手机号码格式错误,请重新输入！',
		10020059: '验证码发送失败，请稍后重试！',
		10020060: '验证码错误，请重新输入！',
		10020063: '实名认证含有敏感词',
		10020065: '密码修改失败',
		10020066: '禁止修改密码',
		10020067: '禁止修改手机',
		10020066: '旧密码错误',
		10020067: '头像修改失败',
		10020068: '短信验证码类型错误',
		10020069: '密码和确认密码不一致',
		10020070: '没有此头像',
		10020071: '验证码错误或者验证码已过期',
		10020072: '重置密码类型错误',
		10020073: '该手机号和您绑定的手机号不一致',
		10020074: '该手机号已被绑定',
		10020075: '保险柜密码错误',
		10020076: '用户已绑定过银行卡',
		10020077: '该银行不存在或不支持',
		10020078: '绑定失败',
		10020079: '用户已绑定过支付宝',
		10020080: '提现数量少于配置中数据的倍数',
		10020081: '提现失败',
		10020082: '未绑定银行卡',
		10020083: '未绑定支付宝',
		10020087: '该手机号已被注册',
		10020090: '玩家分组不存在',
		10020091: '取现单位不合法',
		10020093: '取现下限不合法',
		10020094: '取现额度小于手续费',
		10020095: '请选择提现到哪里',
		10020098: '昵称修改失败',
		10020099: '您的金币已发生变化，请重新输入金额！',
		10020100: '取现上限不合法',
		10020101: '昵称只允许输入4~15个字符！',
		10020102: '取现密码错误！',
		10020103: '您的当前流水未达到取现条件,如有疑问请联系客服',
		10020107: '不能绑定自己',
		10020108: '填写的值与其他用户冲突',
		10020109: '姓名太短或太长',
		10020110: '生日不合法',
		10020111: '邮箱不合法',
		10020112: 'QQ不合法',
		10020113: '用户修改失败',
		10030012: '您的金币已发生变化，请重新输入金额！',
		10030020: '你有牌局未恢复',
		10030046: '游戏不存在',
		10030060: '保险箱金币不足',
		10030061: '保险箱金币达到上限',
		10050001: '获取邮件的类型参数错误',
		10050002: '一键阅读邮件失败',
		10050003: '一键领取邮件附件失败',
		10050004: '邮件不存在',
		10050005: '领取邮件详情中附件失败',
		10170002: '没有可以领取的返水',
		10170003: '返水申请失败',
		10170004: '返水领取失败',
		10170006: '当前返水金额低于最小领取金额',
		10180001: '已领取过该奖励',
		10190001: '推广绑定失败',
		10190002: '推广奖励领取失败',
		10190003: '推广奖励领取失败',
		10190004: '没有可以领取的推广奖励',
		10210003: '充值区间错误',
		10220001: '活动不存在',
		10220002: '非上架时间',
		10220003: '该活动已经下架',
		10220004: '会员分组不合法',
		10220005: '会员VIP分组不合法',
		10220006: '奖励发放失败',
		10220007: '禁止领取优惠活动',
		10220008: '已达到可领取奖励最大值',
		20010001: '网络断开连接，请重新登录！', //token无效
		20010002: '服务器维护中',
		20010004: '重复登录',
		20030018: '游戏连接错误，请重新进入游戏',
		20040001: '非房主不能手动开局',
		20040002: '非手动开局游戏的房间不可手动开局',
		20040003: '此游戏不支持手动开局',
		20040004: '至少要两个人才能开局',
		20040005: '要全部准备才能开局',
		20040006: '其他人已经发起了解散申请了',
		20040007: '操作过于频繁',
		20040008: '钻石不足',
		20040009: '房间已解散',
		20040010: '旁观者无法申请解散房间',
		20040011: '重复操作',
		20040012: '房间人数已满',
		20040013: '百人房间未初始化完成',
		20040015: '金币不足无法进入房间',
		20040023: "下注超过上限",
		20040016: '获取玩家数据有误，请重新进入游戏',
		20100003: '游戏已经结束',
		20100005: '已经退出房间',
		20100006: '找不到房间',
		20100007: '还在游戏中',
		20100009: '您还有游戏未结束，无法开始新游戏',
		10200002: '夺宝积分不足',
		10210001: '渠道不存在',
		10210002: '充值失败',
		10010007: '账号被封停',
		10010008: '您的IP已被限制，如有疑问请联系客服',
		10010009: '手机被限制',
		10010010: '系统检测到您的账号存在异常，暂时无法取现，如有疑问请联系客服',
		20040020: '被禁止进入游戏',
		10020086: '代理推荐码不存在',
		100201022: '未绑定手机号，无法发送短信',
		10230001: '佣金金额不足领取',
		10230002: '佣金提取失败',
		10230003: '可疑会员无法领取',
		10230004: '试玩会员无法领取',
		10250001: 'VIP不存在',
		10250002: 'VIP奖励领取失败',
		10250003: 'VIP奖励类型错误',
		10240003: '余额宝领取未达到最低限额',
		10180004: '禁止签到',
		10080006: '禁止充值',
		10170005: '禁止领取返水',
		10180004: '禁止签到',
		10190006: '禁止领取推广奖励',
		10200003: '禁止积分夺宝',
		10220007: '禁止领取优惠活动',
		10020115: '禁止进入游戏',
		10020108: '注册填写某个字段不能重复',
		10020109: '名字太短或太长',
		10020110: '生日不合法',
		10020111: '邮箱不合法',
		10020112: 'QQ不合法',
		100201017: '用户姓名不合法',
		100201018: '微信不合法',
		100201019: '手机号不存在',
		100201020: '用戶支付宝账号绑定失败',
		100201021: '游戏中不可存款或提现',
		100201023: '解绑失败',
		100201024: '不允许修改账号',
		10150001: '保险柜取出失败',
		10240001: '余额宝领取失败',
		10180003: '奖品异常',



		//捕鱼
		10000006: '房间人数已满',
		10000007: '房间类型错误',
		10000010: '金币不足',
		10000012: '未进入房间',
	},
	err_finishwaterfall = 1999,
	NetCode = function () { },
	netCode = NetCode.prototype,
	g_instance = null;

netCode.check = function (code) {
	if (!code || code == err_finishwaterfall) return null;//中断waterfall不算错误
	let errstr = errorcodes[code];
	let msgstr = '错误码=' + code;
	if (code == 500 || code == 21000500) {
		msgstr = '服务器异常！';
	}
	if (errstr) msgstr = errstr;
	if (code == 3) return null//德州的这条code不给玩家做提示
	return msgstr;
}

module.exports = function () {
	if (!g_instance) {
		g_instance = new NetCode();
	}
	return g_instance;
}();
